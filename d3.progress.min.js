d3.xhr=function(){var t=d3.xhr,e=300,a=d3.select("body").append("svg").classed("progress-meter",!0).style("position","fixed").style("top","50%").style("left","50%").style("margin-top",-e/2).style("margin-left",-e/2).attr("width",e).attr("height",e).append("g").attr("transform","translate("+e/2+","+e/2+")"),n=a.append("g"),r=d3.svg.arc().startAngle(0).innerRadius(e/2-40).outerRadius(e/2);n.append("path").attr("d",r.endAngle(2*Math.PI)).style("fill","#ccc");var d=n.append("path").style("fill","#000"),l=n.append("text").style("text-anchor","middle").text("loading"),o=d3.format(".2s"),s=d3.format(".2p");return function(e,a,i){n.attr("transform","scale(1)");var p=t(e,a,null);return p.on("progress",function(){var t=d3.event.loaded/d3.event.total;d.attr("d",r.endAngle(2*Math.PI*t)),l.text("loaded "+o(d3.event.loaded)+" of "+o(d3.event.total)+" ("+s(t)+")")}),p.on("load",function(t){n.transition().delay(250).attr("transform","scale(0)"),i&&i(t)}),p}}();